(define count 4)
(define frame (new frame% (label "24 game")))
(define number-panel (new horizontal-panel% (parent frame)))
(define button1 (new button% 
                     (parent number-panel) 
                     (label (number->string (add1 (random 9))))
                     (callback (lambda (button event)
                                 (begin (send button show #false)
                                        (send button set-label (number->string (add1 (random 9))))
                                        (set! count (- count 1))
                                        (if (< count 1) 
                                            (begin 
                                              (set! count 4)
                                              (send button1 show #true)
                                              (send button2 show #true)
                                              (send button3 show #true)
                                              (send button4 show #true)) #false))))))
(define button2 (new button% 
                     (parent number-panel) 
                     (label (number->string (add1 (random 9))))
                     (callback (lambda (button event)
                                 (begin (send button show #false)
                                        (send button set-label (number->string (add1 (random 9))))
                                        (set! count (- count 1))
                                        (if (< count 1) 
                                            (begin 
                                              (set! count 4)
                                              (send button1 show #true)
                                              (send button2 show #true)
                                              (send button3 show #true)
                                              (send button4 show #true)) #false))))))
(define button3 (new button% 
                     (parent number-panel) 
                     (label (number->string (add1 (random 9))))
                     (callback (lambda (button event)
                                 (begin (send button show #false)
                                        (send button set-label (number->string (add1 (random 9))))
                                        (set! count (- count 1))
                                        (if (< count 1) 
                                            (begin 
                                              (set! count 4)
                                              (send button1 show #true)
                                              (send button2 show #true)
                                              (send button3 show #true)
                                              (send button4 show #true)) #false))))))
(define button4 (new button% 
                     (parent number-panel) 
                     (label (number->string (add1 (random 9))))
                     (callback (lambda (button event)
                                 (begin (send button show #false)
                                        (send button set-label (number->string (add1 (random 9))))
                                        (set! count (- count 1))
                                        (if (< count 1) 
                                            (begin 
                                              (set! count 4)
                                              (send button1 show #true)
                                              (send button2 show #true)
                                              (send button3 show #true)
                                              (send button4 show #true)) #false))))))
(define operations-panel (new horizontal-panel% (parent frame)))
(define button+ (new button% 
                     (parent operations-panel)
                     (label "+")))
(define button- (new button% 
                     (parent operations-panel)
                     (label "-")))
(define button* (new button% 
                     (parent operations-panel)
                     (label "*")))
(define button/ (new button% 
                     (parent operations-panel)
                     (label "/")))
(send frame show #true)